{% extends 'finance/base.html' %}

{% block title %}Deletar Transação Composta - Finanças{% endblock %}

{% block content %}
    <h1>Deletar Transação Composta</h1>
    
    <div style="margin: 20px 0; padding: 15px; background-color: #fff3cd; border: 1px solid #ffc107; border-radius: 4px;">
        <p><strong>Atenção!</strong> Esta ação irá deletar todas as transações desta transação composta:</p>
        <ul>
            <li><strong>Conta:</strong> {{ account.name }}</li>
            <li><strong>Data da operação:</strong> {{ buy_date|date:"d/m/Y" }}</li>
            <li><strong>Total de transações:</strong> {{ total_count }}</li>
            <li><strong>Saldo líquido:</strong> 
                {% if net_balance >= 0 %}
                    <span style="color: green;">+ R$ {{ net_balance|floatformat:2 }}</span>
                {% else %}
                    <span style="color: red;">- R$ {{ net_balance_abs|floatformat:2 }}</span>
                {% endif %}
            </li>
        </ul>
        <p>Esta ação não pode ser desfeita.</p>
    </div>
    
    <form method="post">
        {% csrf_token %}
        <div style="margin-top: 20px;">
            <button type="submit" style="padding: 10px 20px; background-color: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">
                Confirmar Exclusão
            </button>
            <a href="{% url 'finance:transactions_list' %}" style="margin-left: 10px; padding: 10px 20px; background-color: #6c757d; color: white; text-decoration: none; border-radius: 4px; display: inline-block;">
                Cancelar
            </a>
        </div>
    </form>
{% endblock %}

